%% Simulated Model
Ad = [0.9970    0.0020    0.0021   -0.0019;
   -1.3927    0.9867   -0.0140    0.0131;
    0.0016    0.0000    0.9978    0.0019;
    1.6285    0.0156   -2.1388    0.9444]
Bd = [-0.0000    0.0000;
       0.0003    0.0009;
      -0.0020   -0.0000;
       0.0400   -0.0011]
Cd = [1.0000         0         0         0;
     -706.2857   -6.0524       0    6.0524]
Dd = [0   0;
      0   0.4762]

B2 = Bd(:,2)
B1 = Bd(:,1)
C1 = Cd(:,1)
C2 = Cd(:,2)
T = 0.002

% % Ride Comfort
% Q1 = [1 0 0 0;
%      0 10 0 0;
%      0 0 1 0;
%      0 0 0 1]
% Q2 = [1 0 0 0;
%      0 10 0 0;
%      0 0 1 0;
%      0 0 0 1]
%  Q3 = [1 0 0 0;
%      0 100 0 0;
%      0 0 1 0;
%      0 0 0 1]
%   Q4 = [1 0 0 0;
%      0 1000 0 0;
%      0 0 1 0;
%      0 0 0 1]
% R = 0.001
% [K1,P]=dlqr(Ad,B2,Q1,R)
% [K2,P]=dlqr(Ad,B2,Q2,R)
% [K3,P]=dlqr(Ad,B2,Q3,R)
% [K4,P]=dlqr(Ad,B2,Q4,R)

% % % Suspension Travel
% Q1 = [100 0 0 0;
%      0 1 0 0;
%      0 0 1 0;
%      0 0 0 1]
% Q2 = [10000 0 0 0;
%      0 1 0 0;
%      0 0 1 0;
%      0 0 0 1]
%  Q3 = [100000 0 0 0;
%      0 1 0 0;
%      0 0 0.001 0;
%      0 0 0 0.001]
%   Q4 = [1000000 0 0 0;
%      0 1 0 0;
%      0 0 1 0;
%      0 0 0 1]
% R = 0.001
% [K1,P]=dlqr(Ad,B2,Q1,R)
% [K2,P]=dlqr(Ad,B2,Q2,R)
% [K3,P]=dlqr(Ad,B2,Q3,R)
% [K4,P]=dlqr(Ad,B2,Q4,R)

% % % Road Handling
% Q1 = [1 0 0 0;
%      0 1 0 0;
%      0 0 10000 0;
%      0 0 0 1]
% Q2 = [1 0 0 0;
%      0 1 0 0;
%      0 0 1000 0;
%      0 0 0 1]
% Q3 = [1 0 0 0;
%      0 1 0 0;
%      0 0 100000 0;
%      0 0 0 1]
% Q4 = [1 0 0 0;
%      0 1 0 0;
%      0 0 1000000 0;
%      0 0 0 0.01]
% R = 0.001
% [K1,P]=dlqr(Ad,B2,Q1,R)
% [K2,P]=dlqr(Ad,B2,Q2,R)
% [K3,P]=dlqr(Ad,B2,Q3,R)
% [K4,P]=dlqr(Ad,B2,Q4,R)



